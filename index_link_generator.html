<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homelab Card Generator</title>
	<link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        obsidian: {
                            bg: '#1e1e1e',       // Main background
                            pane: '#252526',     // Headers/Panels
                            border: '#3c3c3c',   // Borders
                            accent: '#7c3aed',   // Violet Primary
                            text: '#cccccc'      // Standard Text
                        }
                    },
                    fontFamily: {
                        mono: ['"Fira Code"', 'Consolas', 'Monaco', 'monospace'],
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #1e1e1e; 
        }
        ::-webkit-scrollbar-thumb {
            background: #3c3c3c; 
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #505050; 
        }

        body {
            background-color: #1e1e1e;
            color: #cccccc;
        }

        /* Syntax Highlighting Mockup for the Output */
        .code-preview {
            tab-size: 4;
        }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden font-sans bg-obsidian-bg text-obsidian-text">

    <header class="h-14 bg-obsidian-pane border-b border-obsidian-border flex items-center px-6 shrink-0 justify-between z-20">
        <div class="flex items-center gap-3">
            <i class="fa-solid fa-hammer text-obsidian-accent"></i>
            <h1 class="font-semibold text-lg text-white">Card Generator</h1>
        </div>
        <div class="text-xs text-gray-500 font-mono">Homelab Playground System</div>
    </header>

    <main class="flex-1 flex flex-col md:flex-row overflow-hidden relative">
        
        <aside class="w-full md:w-1/3 bg-obsidian-pane border-r border-obsidian-border flex flex-col h-full z-10">
            <div class="p-6 border-b border-obsidian-border">
                <h2 class="text-white font-semibold mb-1">Configuration</h2>
                <p class="text-xs text-gray-500">Customize card variables below.</p>
            </div>
            
            <div class="p-6 overflow-y-auto space-y-6 flex-1">
                
                <div class="space-y-2">
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Card Title</label>
                    <div class="relative">
                        <span class="absolute left-3 top-3 text-gray-500"><i class="fa-solid fa-heading"></i></span>
                        <input type="text" id="inputTitle" value="Mermaid Editor" 
                            class="w-full bg-obsidian-bg border border-obsidian-border rounded-lg py-2.5 pl-10 pr-3 text-sm text-white focus:outline-none focus:border-obsidian-accent transition-colors font-mono placeholder-gray-600">
                    </div>
                </div>

                <div class="space-y-2">
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Target URL (href)</label>
                    <div class="relative">
                        <span class="absolute left-3 top-3 text-gray-500"><i class="fa-solid fa-link"></i></span>
                        <input type="text" id="inputHref" value="mermaid.html" 
                            class="w-full bg-obsidian-bg border border-obsidian-border rounded-lg py-2.5 pl-10 pr-3 text-sm text-obsidian-accent focus:outline-none focus:border-obsidian-accent transition-colors font-mono placeholder-gray-600">
                    </div>
                </div>

                <div class="space-y-2">
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider">FontAwesome Icon Class</label>
                    <div class="relative">
                        <span class="absolute left-3 top-3 text-gray-500"><i class="fa-solid fa-icons"></i></span>
                        <input type="text" id="inputIcon" value="fa-solid fa-diagram-project" 
                            class="w-full bg-obsidian-bg border border-obsidian-border rounded-lg py-2.5 pl-10 pr-3 text-sm text-yellow-500 focus:outline-none focus:border-obsidian-accent transition-colors font-mono placeholder-gray-600">
                    </div>
                    <p class="text-[10px] text-gray-500">E.g., fa-solid fa-server, fa-brands fa-docker</p>
                </div>

                <div class="space-y-2">
                    <label class="text-xs font-semibold text-gray-400 uppercase tracking-wider">Description</label>
                    <textarea id="inputDesc" rows="4" 
                        class="w-full bg-obsidian-bg border border-obsidian-border rounded-lg p-3 text-sm text-gray-300 focus:outline-none focus:border-obsidian-accent transition-colors font-sans placeholder-gray-600 resize-none">Live preview editor for Mermaid.js diagrams. Supports Flowcharts, Sequence diagrams, and Gantt charts.</textarea>
                </div>
            </div>
        </aside>

        <section class="w-full md:w-2/3 bg-obsidian-bg overflow-y-auto p-8 relative">
            
            <div class="max-w-3xl mx-auto space-y-8">
                
                <div class="space-y-3">
                    <div class="flex justify-between items-end">
                        <h3 class="text-sm font-semibold text-white">Visual Preview</h3>
                        <span class="text-xs text-gray-500">Renders as it will appear in index.html</span>
                    </div>
                    
                    <div class="p-8 border-2 border-dashed border-obsidian-border rounded-xl bg-obsidian-bg/50 flex justify-center items-center">
                        <div id="previewContainer" class="w-full max-w-sm">
                            </div>
                    </div>
                </div>

                <div class="space-y-3 h-full pb-8">
                    <div class="flex justify-between items-end">
                        <h3 class="text-sm font-semibold text-white">HTML Output</h3>
                        <button id="copyBtn" class="text-xs flex items-center gap-2 bg-obsidian-pane hover:bg-violet-500/10 hover:text-obsidian-accent px-3 py-1.5 rounded border border-obsidian-border transition-colors">
                            <i class="fa-regular fa-copy"></i>
                            <span id="copyText">Copy HTML</span>
                        </button>
                    </div>
                    
                    <div class="relative group">
                        <textarea id="outputCode" readonly 
                            class="w-full h-64 bg-obsidian-pane border border-obsidian-border rounded-xl p-4 font-mono text-xs text-green-400 focus:outline-none resize-none code-preview"></textarea>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="bg-obsidian-pane border-t border-obsidian-border py-2 text-center shrink-0 z-10">
        <a href="https://homelabplayground.com" class="text-gray-500 hover:text-violet-400 text-xs transition-colors font-sans no-underline">
            HomeLab Playground
        </a>
    </footer>

    <script>
        // DOM Elements
        const inputs = {
            title: document.getElementById('inputTitle'),
            href: document.getElementById('inputHref'),
            icon: document.getElementById('inputIcon'),
            desc: document.getElementById('inputDesc')
        };
        const previewContainer = document.getElementById('previewContainer');
        const outputCode = document.getElementById('outputCode');
        const copyBtn = document.getElementById('copyBtn');
        const copyText = document.getElementById('copyText');

        // Indentation helper
        const indent = (str) => {
            // This purely helps visual formatting in the textarea
            return str;
        }

        // Generator Function
        function generateHTML() {
            const title = inputs.title.value || 'Card Title';
            const href = inputs.href.value || '#';
            const icon = inputs.icon.value || 'fa-solid fa-cube';
            const desc = inputs.desc.value || 'Description goes here...';

            // The exact structure requested
            const html = `<a href="${href}" class="block group">
    <div class="bg-obsidian-pane border border-obsidian-border rounded-xl p-6 h-full transition-all duration-300 card-hover group-hover:border-obsidian-accent/50">
        <div class="flex items-start justify-between mb-4">
            <div class="p-3 bg-[#111827] rounded-lg text-obsidian-accent group-hover:bg-obsidian-accent group-hover:text-white transition-colors">
                <i class="${icon} text-xl"></i>
            </div>
            <i class="fa-solid fa-arrow-right text-gray-600 group-hover:text-obsidian-accent -translate-x-2 opacity-0 group-hover:translate-x-0 group-hover:opacity-100 transition-all"></i>
        </div>
        <h3 class="text-xl font-semibold text-white mb-2">${title}</h3>
        <p class="text-sm text-gray-500 leading-relaxed">
            ${desc}
        </p>
    </div>
</a>`;

            return html;
        }

        function updateUI() {
            const html = generateHTML();
            
            // Update Visual Preview
            previewContainer.innerHTML = html;
            
            // Update Code View
            outputCode.value = html;
        }

        // Copy Functionality
        copyBtn.addEventListener('click', () => {
            outputCode.select();
            navigator.clipboard.writeText(outputCode.value).then(() => {
                const originalText = copyText.innerText;
                const originalIcon = copyBtn.querySelector('i').className;
                
                copyText.innerText = "Copied!";
                copyBtn.querySelector('i').className = "fa-solid fa-check text-green-400";
                
                setTimeout(() => {
                    copyText.innerText = originalText;
                    copyBtn.querySelector('i').className = originalIcon;
                }, 2000);
            });
        });

        // Event Listeners
        Object.values(inputs).forEach(input => {
            input.addEventListener('input', updateUI);
        });

        // Initialize
        updateUI();

    </script>
</body>
</html>
