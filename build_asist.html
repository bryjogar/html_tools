<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deck & Dock Planner (Custom) | Homelab Playground</title>
    <link rel="icon" type="image/png" href="https://homelabplayground.com/favicon.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        obsidian: {
                            bg: '#1e1e1e',      // Main background
                            pane: '#252526',    // Headers/Panels
                            border: '#3c3c3c',  // Borders
                            accent: '#7c3aed',  // Violet Primary
                            text: '#cccccc'     // Standard Text
                        }
                    },
                    fontFamily: {
                        mono: ['"Fira Code"', 'Consolas', 'Monaco', 'monospace'],
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #252526; 
        }
        ::-webkit-scrollbar-thumb {
            background: #444; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }

        /* Canvas Pattern */
        .canvas-bg {
            background-image: 
                linear-gradient(to right, #3c3c3c 1px, transparent 1px),
                linear-gradient(to bottom, #3c3c3c 1px, transparent 1px);
            background-size: 40px 40px; /* 40px = 1 foot scale approx */
            background-color: #1a1a1a;
        }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden bg-obsidian-bg text-obsidian-text font-sans">

    <header class="h-14 bg-obsidian-pane border-b border-obsidian-border flex items-center justify-between px-4 shrink-0 z-20">
        <div class="flex items-center gap-2">
            <i class="fa-solid fa-compass-drafting text-obsidian-accent text-xl"></i>
            <h1 class="font-bold text-lg tracking-tight text-white">Deck & Dock Planner</h1>
        </div>
        <div class="flex gap-2">
            <button onclick="clearCanvas()" class="text-xs bg-red-900/20 hover:bg-red-900/50 text-red-400 border border-red-900/50 px-3 py-1.5 rounded transition">
                <i class="fa-solid fa-trash mr-1"></i> Clear
            </button>
        </div>
    </header>

    <main class="flex-1 flex flex-col md:flex-row overflow-hidden relative">
        
        <aside class="w-full md:w-72 bg-obsidian-pane border-b md:border-b-0 md:border-r border-obsidian-border flex flex-col shrink-0 overflow-y-auto z-10">
            <div class="p-4 border-b border-obsidian-border">
                
                <div class="bg-black/20 p-3 rounded border border-obsidian-border mb-6">
                    <h2 class="text-xs font-bold text-white mb-2 uppercase tracking-wider flex items-center">
                        <i class="fa-solid fa-wrench mr-2 text-obsidian-accent"></i> Custom Component
                    </h2>
                    
                    <div class="grid grid-cols-2 gap-2 mb-2">
                        <div>
                            <label class="text-[10px] text-gray-500 uppercase">Thick (in)</label>
                            <input type="number" id="custom-thick" value="1.5" step="0.5" class="w-full bg-obsidian-bg border border-obsidian-border rounded px-2 py-1 text-xs text-white focus:border-obsidian-accent outline-none">
                        </div>
                        <div>
                            <label class="text-[10px] text-gray-500 uppercase">Width (in)</label>
                            <input type="number" id="custom-width" value="9.25" step="0.25" class="w-full bg-obsidian-bg border border-obsidian-border rounded px-2 py-1 text-xs text-white focus:border-obsidian-accent outline-none">
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="text-[10px] text-gray-500 uppercase">Length (ft)</label>
                        <input type="number" id="custom-length" value="8" class="w-full bg-obsidian-bg border border-obsidian-border rounded px-2 py-1 text-xs text-white focus:border-obsidian-accent outline-none">
                    </div>

                    <div class="flex gap-2 mb-3">
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="orientation" value="edge" checked class="hidden peer">
                            <div class="text-[10px] text-center p-1 border border-obsidian-border rounded bg-obsidian-bg peer-checked:bg-obsidian-accent peer-checked:text-white hover:bg-white/5 transition">
                                <i class="fa-solid fa-arrows-up-down mr-1"></i> On Edge<br>(Framing)
                            </div>
                        </label>
                        <label class="flex-1 cursor-pointer">
                            <input type="radio" name="orientation" value="flat" class="hidden peer">
                            <div class="text-[10px] text-center p-1 border border-obsidian-border rounded bg-obsidian-bg peer-checked:bg-obsidian-accent peer-checked:text-white hover:bg-white/5 transition">
                                <i class="fa-solid fa-arrows-left-right mr-1"></i> Flat<br>(Decking)
                            </div>
                        </label>
                    </div>

                    <button onclick="addCustomItem()" class="w-full bg-obsidian-accent hover:bg-violet-600 text-white text-xs font-bold py-2 rounded transition shadow-lg">
                        <i class="fa-solid fa-plus mr-1"></i> Add Custom Board
                    </button>
                </div>

                <hr class="border-obsidian-border mb-4">

                <h2 class="text-xs font-bold text-gray-400 mb-3 uppercase tracking-wider">Quick Presets</h2>

                <div class="mb-4">
                    <p class="text-[10px] text-gray-500 mb-2">Common Framing (Stand on Edge)</p>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="addItem('lumber', 1.5, 5.5, 8, '2x6')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition group">
                            <div class="w-2 h-4 bg-amber-800/50 group-hover:bg-amber-600 mr-2 rounded-sm"></div>
                            <span class="text-xs">2x6</span>
                        </button>
                        <button onclick="addItem('lumber', 1.5, 7.25, 8, '2x8')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition group">
                            <div class="w-2 h-5 bg-amber-800/50 group-hover:bg-amber-600 mr-2 rounded-sm"></div>
                            <span class="text-xs">2x8</span>
                        </button>
                        <button onclick="addItem('lumber', 1.5, 9.25, 8, '2x10')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition group">
                            <div class="w-2 h-6 bg-amber-800/50 group-hover:bg-amber-600 mr-2 rounded-sm"></div>
                            <span class="text-xs">2x10</span>
                        </button>
                        <button onclick="addItem('lumber', 1.5, 11.25, 8, '2x12')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition group">
                            <div class="w-2 h-8 bg-amber-800/50 group-hover:bg-amber-600 mr-2 rounded-sm"></div>
                            <span class="text-xs">2x12</span>
                        </button>
                    </div>
                </div>

                <div class="mb-4">
                    <p class="text-[10px] text-gray-500 mb-2">Decking (Lay Flat)</p>
                    <button onclick="addItem('decking', 1, 5.5, 8, '5/4x6 Decking')" class="w-full flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition group">
                        <div class="w-6 h-2 bg-yellow-700/50 group-hover:bg-yellow-600 mr-2 rounded-sm"></div>
                        <span class="text-xs">5/4 x 6 Standard</span>
                    </button>
                </div>

                 <div class="mb-4">
                    <p class="text-[10px] text-gray-500 mb-2">Posts</p>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="addItem('post', 3.5, 3.5, 0, '4x4 Post')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition">
                            <div class="w-3 h-3 bg-yellow-900 mr-2"></div>
                            <span class="text-xs">4x4</span>
                        </button>
                        <button onclick="addItem('post', 5.5, 5.5, 0, '6x6 Post')" class="flex items-center p-2 bg-obsidian-bg border border-obsidian-border hover:border-obsidian-accent hover:text-white rounded transition">
                            <div class="w-4 h-4 bg-yellow-900 mr-2"></div>
                            <span class="text-xs">6x6</span>
                        </button>
                    </div>
                </div>
            </div>

            <div id="editor-controls" class="p-4 hidden bg-obsidian-bg/50 flex-1 border-t border-obsidian-border">
                <div class="flex justify-between items-center mb-3">
                    <h2 class="text-sm font-bold text-obsidian-accent uppercase tracking-wider">Edit Selected</h2>
                    <span id="selected-type-label" class="text-[10px] bg-obsidian-border px-1.5 py-0.5 rounded text-gray-400">ITEM</span>
                </div>
                
                <div class="mb-3">
                    <label class="text-[10px] text-gray-500 block mb-1">Length (Feet)</label>
                    <input type="number" id="item-length" min="1" max="100" class="w-full bg-obsidian-pane border border-obsidian-border rounded px-2 py-1 text-sm focus:border-obsidian-accent outline-none text-white" oninput="updateSelectedItem()">
                </div>

                <div class="grid grid-cols-2 gap-2 mb-3">
                    <button onclick="rotateItem()" class="bg-obsidian-pane border border-obsidian-border hover:bg-white/5 text-xs py-2 rounded text-white transition">
                        <i class="fa-solid fa-rotate-right mr-1"></i> Rotate 90Â°
                    </button>
                     <button onclick="duplicateItem()" class="bg-obsidian-pane border border-obsidian-border hover:bg-white/5 text-xs py-2 rounded text-white transition">
                        <i class="fa-regular fa-copy mr-1"></i> Clone
                    </button>
                </div>

                <button onclick="deleteItem()" class="w-full bg-red-900/10 text-red-400 border border-red-900/30 hover:bg-red-900/40 text-xs py-2 rounded transition">
                    Delete Item
                </button>
            </div>
        </aside>

        <div class="flex-1 relative overflow-auto bg-obsidian-bg cursor-crosshair" id="canvas-container">
            <div class="absolute top-4 left-4 z-10 pointer-events-none space-y-2">
                <div class="bg-obsidian-pane/90 px-3 py-1.5 rounded text-xs border border-obsidian-border text-gray-300 shadow-lg backdrop-blur-sm">
                   <i class="fa-solid fa-ruler-combined mr-1 text-obsidian-accent"></i> 1 Grid Sq = 1 Foot
                </div>
            </div>
            
            <canvas id="projectCanvas" width="2400" height="2400" class="canvas-bg shadow-2xl"></canvas>
        </div>

        <aside class="w-full md:w-64 bg-obsidian-pane border-t md:border-t-0 md:border-l border-obsidian-border flex flex-col shrink-0 z-10 h-64 md:h-auto">
            <div class="p-3 border-b border-obsidian-border bg-obsidian-pane flex justify-between items-center">
                <h2 class="text-sm font-bold text-white tracking-wider">Bill of Materials</h2>
                <button onclick="window.print()" class="text-xs text-obsidian-accent hover:text-white transition">
                    <i class="fa-solid fa-print"></i>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-0">
                <table class="w-full text-left border-collapse">
                    <thead class="bg-obsidian-bg text-gray-500 text-[10px] uppercase">
                        <tr>
                            <th class="p-2 font-normal">Item</th>
                            <th class="p-2 font-normal">Dims</th>
                            <th class="p-2 font-normal text-right">Qty</th>
                        </tr>
                    </thead>
                    <tbody id="bom-body" class="text-xs font-mono text-gray-300">
                        </tbody>
                </table>
            </div>
            <div class="p-3 border-t border-obsidian-border bg-obsidian-bg text-center text-xs text-gray-500">
                Total Items: <span id="total-count" class="text-white font-bold">0</span>
            </div>
        </aside>

    </main>

    <footer class="bg-obsidian-pane border-t border-obsidian-border py-3 text-center shrink-0 z-10 flex flex-col md:flex-row justify-center items-center gap-3">
        <a href="https://homelabplayground.com" class="text-gray-500 hover:text-violet-400 text-xs transition-colors font-sans no-underline">
            HomeLab Playground
        </a>
        <span class="hidden md:block text-obsidian-border mx-1">|</span>
        <a href="https://www.buymeacoffee.com/bryjogar" target="_blank" class="inline-flex items-center px-3 py-1 bg-obsidian-accent hover:bg-violet-600 text-white text-xs font-sans rounded-full transition-colors no-underline">
            <i class="fa-solid fa-mug-hot mr-1.5"></i>
            <span>Support The Tools</span>
        </a>
    </footer>

    <script>
        // Configuration
        const PIXELS_PER_FOOT = 40; 
        const SNAP_GRID = 5; // Finer snap for detail

        // State
        const canvas = document.getElementById('projectCanvas');
        const ctx = canvas.getContext('2d');
        const canvasContainer = document.getElementById('canvas-container');
        
        let items = []; 
        let selectedId = null;
        let isDragging = false;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        function init() {
            // Center view
            canvasContainer.scrollTop = (canvas.height - canvasContainer.clientHeight) / 2;
            canvasContainer.scrollLeft = (canvas.width - canvasContainer.clientWidth) / 2;
            updateBOM();
            draw();
        }

        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        // Add Custom Item wrapper
        function addCustomItem() {
            const thick = parseFloat(document.getElementById('custom-thick').value);
            const width = parseFloat(document.getElementById('custom-width').value);
            const length = parseFloat(document.getElementById('custom-length').value);
            const orientation = document.querySelector('input[name="orientation"]:checked').value;
            
            // Generate name based on sizing
            const name = `Custom ${thick}x${width}`;
            
            // Determine type logic
            let type = 'custom';
            if (orientation === 'flat') type = 'decking';
            else type = 'lumber'; // framing

            addItem(type, thick, width, length, name);
        }

        /**
         * Core Add Function
         * @param {string} type - 'post', 'lumber', 'decking', 'custom'
         * @param {number} dim1 - Thickness (inches)
         * @param {number} dim2 - Width (inches)
         * @param {number} lengthFt - Length in Feet
         * @param {string} nameOverride - Optional display name
         */
        function addItem(type, dim1, dim2, lengthFt = 0, nameOverride = '') {
            const viewX = canvasContainer.scrollLeft + (canvasContainer.clientWidth / 2);
            const viewY = canvasContainer.scrollTop + (canvasContainer.clientHeight / 2);

            let renderW, renderH, color, zIndex, name;

            // Dimensions logic for Top-Down View
            // renderW = x-axis size, renderH = y-axis size

            if (type === 'post') {
                // Post: Width x Depth (dim1 x dim2)
                renderW = (dim1 / 12) * PIXELS_PER_FOOT;
                renderH = (dim2 / 12) * PIXELS_PER_FOOT;
                color = '#78350f'; // amber-900
                zIndex = 10;
                name = nameOverride || `${dim1}x${dim2} Post`;
                lengthFt = 0; // Posts are vertical points in 2D
            } 
            else if (type === 'lumber' || type === 'custom') {
                // Framing (On Edge):
                // Length of board runs Left-Right on screen initially
                // Height on screen = Thickness of board
                renderW = lengthFt * PIXELS_PER_FOOT;
                renderH = (dim1 / 12) * PIXELS_PER_FOOT; // Thickness
                
                // Minimum visual thickness so it's clickable
                if (renderH < 4) renderH = 4;

                color = '#d97706'; // amber-600
                if(nameOverride.includes('Custom')) color = '#ea580c'; // distinct custom color

                zIndex = 20;
                name = nameOverride || `${dim1}x${dim2} Board`;
            } 
            else if (type === 'decking') {
                // Decking (Flat):
                // Length of board runs Left-Right
                // Height on screen = Width of board
                renderW = lengthFt * PIXELS_PER_FOOT;
                renderH = (dim2 / 12) * PIXELS_PER_FOOT; // Width
                
                color = '#ca8a04'; // yellow-600
                zIndex = 30;
                name = nameOverride || `${dim1}x${dim2} Decking`;
            }

            const newItem = {
                id: generateId(),
                type: type,
                name: name,
                x: viewX - (renderW/2),
                y: viewY - (renderH/2),
                w: renderW,
                h: renderH,
                lengthFt: lengthFt,
                rotation: 0,
                color: color,
                zIndex: zIndex,
                dim1: dim1, // Store original dims
                dim2: dim2
            };

            items.push(newItem);
            selectItem(newItem.id);
            draw();
            updateBOM();
        }

        function deleteItem() {
            if (!selectedId) return;
            items = items.filter(i => i.id !== selectedId);
            selectedId = null;
            updateUI();
            draw();
            updateBOM();
        }

        function clearCanvas() {
            if(confirm('Clear all items?')) {
                items = [];
                selectedId = null;
                updateUI();
                draw();
                updateBOM();
            }
        }

        function rotateItem() {
            if (!selectedId) return;
            const item = items.find(i => i.id === selectedId);
            if (item) {
                // Swap W and H visually
                const temp = item.w;
                item.w = item.h;
                item.h = temp;
                
                item.rotation = (item.rotation + 90) % 360;
                draw();
            }
        }

        function duplicateItem() {
            if (!selectedId) return;
            const original = items.find(i => i.id === selectedId);
            if (original) {
                const clone = JSON.parse(JSON.stringify(original));
                clone.id = generateId();
                clone.x += 15;
                clone.y += 15;
                items.push(clone);
                selectItem(clone.id);
                draw();
                updateBOM();
            }
        }

        function updateSelectedItem() {
            if (!selectedId) return;
            const item = items.find(i => i.id === selectedId);
            const input = document.getElementById('item-length');
            const newLength = parseFloat(input.value);

            if (newLength > 0 && item.type !== 'post') {
                item.lengthFt = newLength;
                // Update the dimension that corresponds to Length
                // If w > h, assumption is w is length (horizontal). If rotated, h is length.
                if (item.w > item.h) {
                    item.w = newLength * PIXELS_PER_FOOT;
                } else {
                    item.h = newLength * PIXELS_PER_FOOT;
                }
                draw();
                updateBOM();
            }
        }

        function selectItem(id) {
            selectedId = id;
            updateUI();
            draw();
        }

        function updateUI() {
            const controls = document.getElementById('editor-controls');
            const lengthInput = document.getElementById('item-length');
            const typeLabel = document.getElementById('selected-type-label');

            if (selectedId) {
                const item = items.find(i => i.id === selectedId);
                controls.classList.remove('hidden');
                
                typeLabel.innerText = item.name;
                
                lengthInput.value = item.lengthFt;
                // Disable length edit for posts (they are points)
                lengthInput.disabled = (item.type === 'post'); 
            } else {
                controls.classList.add('hidden');
            }
        }

        function updateBOM() {
            const tbody = document.getElementById('bom-body');
            tbody.innerHTML = '';
            
            const grouped = {};
            
            items.forEach(item => {
                const key = `${item.name}::${item.lengthFt}`;
                if (!grouped[key]) {
                    grouped[key] = {
                        name: item.name,
                        length: item.lengthFt,
                        count: 0
                    };
                }
                grouped[key].count++;
            });

            let total = 0;
            Object.keys(grouped).sort().forEach(key => {
                const g = grouped[key];
                total += g.count;
                // Format Length display
                let dimDisplay = g.length > 0 ? `${g.length}'` : '-';
                
                const row = `
                    <tr class="border-b border-obsidian-border/50 last:border-0 hover:bg-white/5 transition">
                        <td class="p-2 text-white font-medium">${g.name}</td>
                        <td class="p-2 text-obsidian-accent">${dimDisplay}</td>
                        <td class="p-2 text-right font-bold text-gray-400">${g.count}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });

            document.getElementById('total-count').innerText = total;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw Grid Lines (Every 1 foot)
            ctx.strokeStyle = '#2a2a2a';
            ctx.lineWidth = 1;
            
            // Draw Items
            items.sort((a, b) => a.zIndex - b.zIndex);

            items.forEach(item => {
                ctx.save();
                
                // Selection Highlight
                if (item.id === selectedId) {
                    ctx.shadowColor = '#7c3aed';
                    ctx.shadowBlur = 15;
                    ctx.strokeStyle = '#a78bfa';
                } else {
                    ctx.shadowColor = 'rgba(0,0,0,0.5)';
                    ctx.shadowBlur = 5;
                    ctx.strokeStyle = '#111';
                }

                ctx.fillStyle = item.color;
                ctx.fillRect(item.x, item.y, item.w, item.h);
                
                ctx.lineWidth = 1;
                ctx.strokeRect(item.x, item.y, item.w, item.h);

                // Text Label for Length
                if (item.lengthFt > 0 && item.w > 20 && item.h > 10) {
                    ctx.fillStyle = 'rgba(255,255,255,0.9)';
                    ctx.font = 'bold 10px sans-serif';
                    ctx.shadowBlur = 0;
                    
                    const txt = item.lengthFt + "'";
                    const m = ctx.measureText(txt);
                    
                    // Only draw if it fits
                    if (m.width < (Math.max(item.w, item.h) - 4)) {
                         // Center text
                        ctx.fillText(txt, item.x + (item.w/2) - (m.width/2), item.y + (item.h/2) + 3);
                    }
                }

                ctx.restore();
            });
        }

        // --- Mouse / Touch Handling ---

        function getMousePos(evt) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            return {
                x: (evt.clientX - rect.left) * scaleX,
                y: (evt.clientY - rect.top) * scaleY
            };
        }

        function isHit(pos, item) {
            // Simple AABB hit test
            // Add padding for thin items (framing)
            const padding = (item.h < 10 || item.w < 10) ? 5 : 0;
            return pos.x >= item.x - padding && pos.x <= item.x + item.w + padding &&
                   pos.y >= item.y - padding && pos.y <= item.y + item.h + padding;
        }

        canvas.addEventListener('mousedown', function(e) {
            const pos = getMousePos(e);
            let hitItem = null;
            // Reverse loop to catch top-most items first
            for (let i = items.length - 1; i >= 0; i--) {
                if (isHit(pos, items[i])) {
                    hitItem = items[i];
                    break;
                }
            }

            if (hitItem) {
                isDragging = true;
                selectItem(hitItem.id);
                dragOffsetX = pos.x - hitItem.x;
                dragOffsetY = pos.y - hitItem.y;
            } else {
                selectedId = null;
                updateUI();
                draw();
            }
        });

        canvas.addEventListener('mousemove', function(e) {
            if (isDragging && selectedId) {
                const pos = getMousePos(e);
                const item = items.find(i => i.id === selectedId);
                if (item) {
                    let newX = pos.x - dragOffsetX;
                    let newY = pos.y - dragOffsetY;

                    // Snap Logic
                    newX = Math.round(newX / SNAP_GRID) * SNAP_GRID;
                    newY = Math.round(newY / SNAP_GRID) * SNAP_GRID;

                    item.x = newX;
                    item.y = newY;
                    draw();
                }
            }
        });

        window.addEventListener('mouseup', function() {
            isDragging = false;
        });

        // Basic Touch
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const t = e.touches[0];
            canvas.dispatchEvent(new MouseEvent('mousedown', {
                clientX: t.clientX, clientY: t.clientY
            }));
        }, {passive:false});

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
            const t = e.touches[0];
            canvas.dispatchEvent(new MouseEvent('mousemove', {
                clientX: t.clientX, clientY: t.clientY
            }));
        }, {passive:false});

        canvas.addEventListener('touchend', () => {
            window.dispatchEvent(new MouseEvent('mouseup'));
        });
        
        // Keyboard Delete
        document.addEventListener('keydown', (e) => {
            if(e.key === 'Delete' || e.key === 'Backspace') deleteItem();
        });

        init();
    </script>
</body>
</html>